<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
	<link rel="stylesheet" type="text/css" href="assets/css/style.css">
	</link>
</h:head>


<h:body>
	<h:panelGroup layout="block" id="content">
		<h3>TODOS</h3>
		<h:form id="itemisation">
			<h:panelGroup layout="block" >
				<h:graphicImage value="#{DynamicsBean.listStatus}" />
				<h:inputText value="#{itemBeanManager.newItemDescription}" id="createItem">
					<f:ajax listener="#{itemBeanManager.createItem}" event="keypress" execute="createItem" render="itemisation" />
				<!-- <h:commandButton value="submit" type="submit"
					action="#{itemBeanManager.createItem}">
					<f:ajax execute="createItem" render="itemisation" />
				</h:commandButton> -->
				</h:inputText>
			</h:panelGroup>

			<h:panelGroup layout="block" id="listing">
				<ui:repeat var="item" value="${itemBeanManager.getItems()}"
					id="list">
					<tr>
						<td><h:inputHidden value="#{item.id}" id="id"/></td>
						<td><h:inputText value="#{item.description}" id="desc">
								<f:ajax event="blur" execute="id desc" render="itemisation" />
							</h:inputText></td>
					</tr><br/>
				</ui:repeat>
			</h:panelGroup>

		</h:form>
	</h:panelGroup>
</h:body>
</html>